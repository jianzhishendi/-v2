import{S as ue,i as fe,s as he,k,a as q,q as J,l as E,m as I,h as v,c as N,r as K,n as b,b as z,G as c,H as ne,a2 as re,u as M,f as G,g as oe,d as ie,J as de,K as _e,t as P,a1 as ce,E as W,Z as ve,o as me,e as X,a4 as pe,v as ge,w as be,p as x,x as ke,y as Ee,A as Ie}from"./index-18ac2d2b.js";import{Y as ye}from"./runtime.esm-670b0a78.js";import{e as De}from"./outfits-19878b28.js";import{p as Ve}from"./audio-1ef79b83.js";import{I as $e}from"./Icon-7295ab5e.js";import{b as Oe}from"./stores-e2e154ba.js";function ee(a,t,l){const e=a.slice();return e[8]=t[l],e}function te(a,t,l){const e=a.slice();return e[11]=t[l],e}function se(a){let t,l,e,n,o,g,$,D,H=a[0][a[8]]+"",O,d,m,V=a[1](`shop.item.${a[8]}`)+"",w,F,S,C,j,B;n=new $e({props:{width:"100%",type:a[8]}});let A=Array(a[8]==="stardust"?4:5),_=[];for(let s=0;s<A.length;s+=1)_[s]=le(te(a,A,s));return{c(){t=k("div"),l=k("div"),e=k("div"),ge(n.$$.fragment),o=q(),g=k("div");for(let s=0;s<_.length;s+=1)_[s].c();$=q(),D=k("span"),O=J(H),d=q(),m=k("div"),w=J(V),F=q(),this.h()},l(s){t=E(s,"DIV",{class:!0});var p=I(t);l=E(p,"DIV",{class:!0});var y=I(l);e=E(y,"DIV",{class:!0,style:!0});var u=I(e);be(n.$$.fragment,u),o=N(u),g=E(u,"DIV",{class:!0});var i=I(g);for(let h=0;h<_.length;h+=1)_[h].l(i);i.forEach(v),u.forEach(v),$=N(y),D=E(y,"SPAN",{class:!0});var Y=I(D);O=K(Y,H),Y.forEach(v),y.forEach(v),d=N(p),m=E(p,"DIV",{class:!0});var r=I(m);w=K(r,V),r.forEach(v),F=N(p),p.forEach(v),this.h()},h(){b(g,"class","star svelte-121s05c"),b(e,"class","pic svelte-121s05c"),x(e,"background-image","url('"+a[2][`${a[8]==="stardust"?4:5}star-bg.webp`]+"')"),b(D,"class","svelte-121s05c"),b(l,"class","body svelte-121s05c"),b(m,"class","name svelte-121s05c"),b(t,"class",S="item "+a[8]+" svelte-121s05c")},m(s,p){z(s,t,p),c(t,l),c(l,e),ke(n,e,null),c(e,o),c(e,g);for(let y=0;y<_.length;y+=1)_[y].m(g,null);c(l,$),c(l,D),c(D,O),c(t,d),c(t,m),c(m,w),c(t,F),C=!0,j||(B=ne(t,"click",re(a[5])),j=!0)},p(s,p){const y={};if(p&1&&(y.type=s[8]),n.$set(y),p&1){A=Array(s[8]==="stardust"?4:5);let u;for(u=0;u<A.length;u+=1){const i=te(s,A,u);_[u]?_[u].p(i,p):(_[u]=le(),_[u].c(),_[u].m(g,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=A.length}(!C||p&5)&&x(e,"background-image","url('"+s[2][`${s[8]==="stardust"?4:5}star-bg.webp`]+"')"),(!C||p&1)&&H!==(H=s[0][s[8]]+"")&&M(O,H),(!C||p&3)&&V!==(V=s[1](`shop.item.${s[8]}`)+"")&&M(w,V),(!C||p&1&&S!==(S="item "+s[8]+" svelte-121s05c"))&&b(t,"class",S)},i(s){C||(G(n.$$.fragment,s),C=!0)},o(s){P(n.$$.fragment,s),C=!1},d(s){s&&v(t),Ee(n),ce(_,s),j=!1,B()}}}function le(a){let t;return{c(){t=k("i"),this.h()},l(l){t=E(l,"I",{class:!0}),I(t).forEach(v),this.h()},h(){b(t,"class","gi-star svelte-121s05c")},m(l,e){z(l,t,e)},p:Ie,d(l){l&&v(t)}}}function ae(a){let t,l,e=a[0][a[8]]>0&&se(a);return{c(){e&&e.c(),t=X()},l(n){e&&e.l(n),t=X()},m(n,o){e&&e.m(n,o),z(n,t,o),l=!0},p(n,o){n[0][n[8]]>0?e?(e.p(n,o),o&1&&G(e,1)):(e=se(n),e.c(),G(e,1),e.m(t.parentNode,t)):e&&(oe(),P(e,1,1,()=>{e=null}),ie())},i(n){l||(G(e),l=!0)},o(n){P(e),l=!1},d(n){e&&e.d(n),n&&v(t)}}}function we(a){let t,l,e,n,o,g,$=a[1]("obtained")+"",D,H,O,d,m,V=a[1]("extra")+"",w,F,S,C,j,B=a[1]("pressToContinue")+"",A,_,s,p,y,u=Object.keys(a[0]),i=[];for(let r=0;r<u.length;r+=1)i[r]=ae(ee(a,u,r));const Y=r=>P(i[r],1,1,()=>{i[r]=null});return{c(){t=k("section"),l=k("div"),e=k("div"),n=q(),o=k("div"),g=k("h3"),D=J($),H=q(),O=k("i"),d=q(),m=k("h4"),w=J(V),F=q(),S=k("div");for(let r=0;r<i.length;r+=1)i[r].c();C=q(),j=k("h4"),A=J(B),this.h()},l(r){t=E(r,"SECTION",{class:!0});var h=I(t);l=E(h,"DIV",{class:!0});var f=I(l);e=E(f,"DIV",{class:!0}),I(e).forEach(v),n=N(f),o=E(f,"DIV",{class:!0});var T=I(o);g=E(T,"H3",{class:!0});var Z=I(g);D=K(Z,$),H=N(Z),O=E(Z,"I",{class:!0}),I(O).forEach(v),Z.forEach(v),d=N(T),m=E(T,"H4",{class:!0});var Q=I(m);w=K(Q,V),Q.forEach(v),F=N(T),S=E(T,"DIV",{class:!0});var R=I(S);for(let L=0;L<i.length;L+=1)i[L].l(R);R.forEach(v),C=N(T),j=E(T,"H4",{class:!0});var U=I(j);A=K(U,B),U.forEach(v),T.forEach(v),f.forEach(v),h.forEach(v),this.h()},h(){b(e,"class","bg svelte-121s05c"),b(O,"class","gi-primo-star svelte-121s05c"),b(g,"class","title svelte-121s05c"),b(m,"class","svelte-121s05c"),b(S,"class","milestone svelte-121s05c"),b(j,"class","msg svelte-121s05c"),b(o,"class","content svelte-121s05c"),b(l,"class","container svelte-121s05c"),b(t,"class","svelte-121s05c")},m(r,h){z(r,t,h),c(t,l),c(l,e),c(l,n),c(l,o),c(o,g),c(g,D),c(g,H),c(g,O),c(o,d),c(o,m),c(m,w),c(o,F),c(o,S);for(let f=0;f<i.length;f+=1)i[f].m(S,null);c(o,C),c(o,j),c(j,A),s=!0,p||(y=ne(t,"click",re(a[3])),p=!0)},p(r,[h]){if((!s||h&2)&&$!==($=r[1]("obtained")+"")&&M(D,$),(!s||h&2)&&V!==(V=r[1]("extra")+"")&&M(w,V),h&7){u=Object.keys(r[0]);let f;for(f=0;f<u.length;f+=1){const T=ee(r,u,f);i[f]?(i[f].p(T,h),G(i[f],1)):(i[f]=ae(T),i[f].c(),G(i[f],1),i[f].m(S,null))}for(oe(),f=u.length;f<i.length;f+=1)Y(f);ie()}(!s||h&2)&&B!==(B=r[1]("pressToContinue")+"")&&M(A,B)},i(r){if(!s){for(let h=0;h<u.length;h+=1)G(i[h]);_||de(()=>{_=_e(o,a[4],{duration:200}),_.start()}),s=!0}},o(r){i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)P(i[h]);s=!1},d(r){r&&v(t),ce(i,r),p=!1,y()}}}function Se(a,t,l){let e,n;W(a,ye,d=>l(1,e=d)),W(a,Oe,d=>l(2,n=d));let{items:o={genesis:0,intertwined:0,acquaint:0,primogem:0,starglitter:0,stardust:0}}=t;const g=ve(),$=()=>{g("close")},D=()=>Object.keys(o).reduce((d,m)=>d+o[m],0);me(()=>{if(D()<1)return $();Ve("obtain")});function H(d,m){const V=getComputedStyle(d).transform.replace("none","");return{delay:m.delay||0,duration:m.duration||400,easing:m.easing||De,css:w=>`transform: ${V} scale(${w}); opacity: ${w};`}}function O(d){pe.call(this,a,d)}return a.$$set=d=>{"items"in d&&l(0,o=d.items)},[o,e,n,$,H,O]}class Ne extends ue{constructor(t){super(),fe(this,t,Se,we,he,{items:0})}}export{Ne as default};
